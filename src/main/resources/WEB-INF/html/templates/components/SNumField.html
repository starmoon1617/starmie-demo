<template>
    <v-card outlined>
        <label class="pl-2 v-label v-label--active theme--light cardSpan" style="left: 0px; right: auto; position: absolute;font-size: 0.875rem;">{{ label }}</label>
        <v-card-text class="ma-0 pa-0">
            <v-row dense class="ma-0 pa-0" style="width: 100%;">
                <v-text-field height="32" single-line dense v-model="value[0]" hide-details class="px-1 pt-0 pb-0 mt-0 searchForm" style="width: 20%;" @blur="onBlur" ></v-text-field>
                <label style="height: 30px;width: 10%;padding: 4px;text-align: center;color: black;">-</label>
                <v-text-field height="32" single-line dense v-model="value[1]" hide-details class="px-1 pt-0 pb-0 mt-0 searchForm" style="width: 20%;" @blur="onBlur"></v-text-field>
            </v-row>
        </v-card-text>
    </v-card>
</template>
<script>
    export default {
        name:'s-num-field',
        props: {
            label: String,
            value: {
                type: Array,
                default: () => ([]),
            }
        },
        methods: {
            onBlur() {
                let v1 = null, v2 = null;
                if (this.value && this.value.length > 0) {
                    v1 = this.value[0];
                    if (this.value.length > 1) {
                        v2 = this.value[1];
                    }
                }
                if ((v1 || v1 === 0) && (!isNaN(v1)) && (v2 || v2 === 0) && (!isNaN(v2))) {
                    if((new Number(v1)) > (new Number(v2))) {
                        this.$set(this.value, 0, v2);
                        this.$set(this.value, 1, v1);
                    }
                }
            }
        },
    }
</script>